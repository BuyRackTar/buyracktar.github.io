"use strict";(self.webpackChunkcashcontrol=self.webpackChunkcashcontrol||[]).push([[391],{1643:(D,g,i)=>{i.d(g,{w:()=>u});var u=(()=>{return(t=u||(u={})).Create="Create",t.Update="Update",u;var t})()},3881:(D,g,i)=>{i.d(g,{X:()=>t});var u=i(5e3);let t=(()=>{class l{constructor(){this.height=2}getClass(){return`divider-${this.height}`}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275cmp=u.\u0275\u0275defineComponent({type:l,selectors:[["app-divider"]],inputs:{height:"height"},decls:1,vars:2,consts:[[1,"divider"]],template:function(d,f){1&d&&u.\u0275\u0275element(0,"div",0),2&d&&u.\u0275\u0275classMap(f.getClass())},styles:[".divider[_ngcontent-%COMP%]{border-radius:2px;background-color:var(--color-text-primary);margin:.7rem 0}.divider-1[_ngcontent-%COMP%]{height:1px}.divider-2[_ngcontent-%COMP%]{height:2px}.divider-3[_ngcontent-%COMP%]{height:3px}.divider-4[_ngcontent-%COMP%]{height:4px}.divider-5[_ngcontent-%COMP%]{height:5px}"]}),l})()},6251:(D,g,i)=>{i.d(g,{x:()=>y});var u=i(655),t=i(5e3),l=i(2382),v=i(3442),d=i(5773),f=i(603),c=i(7447),r=i(6907),_=i(6249),h=i(6693),p=i(5645),O=i(1698),M=i(9808),S=i(9848);function x(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit;t.\u0275\u0275property("value",e.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name," - ",null==e.currency?null:e.currency.name," ")}}function P(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-data-list"),t.\u0275\u0275template(1,x,2,3,"button",15),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.wallets)}}function I(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit;t.\u0275\u0275property("value",e),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e," ")}}function b(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-data-list"),t.\u0275\u0275template(1,I,2,2,"button",15),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.spendTargetList)}}function A(o,s){1&o&&(t.\u0275\u0275elementStart(0,"div",1)(1,"label",17)(2,"tui-select",18),t.\u0275\u0275text(3," Destination is "),t.\u0275\u0275template(4,b,2,1,"tui-data-list",4),t.\u0275\u0275elementEnd()()()),2&o&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("tuiTextfieldLabelOutside",!0))}function L(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit;t.\u0275\u0275property("value",e.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name," - ",null==e.currency?null:e.currency.name," ")}}function B(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-data-list"),t.\u0275\u0275template(1,L,2,3,"button",15),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.categories)}}function n(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-select",19),t.\u0275\u0275text(1," Category "),t.\u0275\u0275template(2,B,2,1,"tui-data-list",4),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("valueContent",e.stringifyCategory(e.categories))("tuiTextfieldLabelOutside",!0)}}function a(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&o){const e=s.$implicit;t.\u0275\u0275property("value",e.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",e.name," - ",null==e.currency?null:e.currency.name," ")}}function m(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-data-list"),t.\u0275\u0275template(1,a,2,3,"button",15),t.\u0275\u0275pipe(2,"tuiFilter"),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind3(2,1,e.wallets,e.walletMatcher,null==e.chosenSource?null:e.chosenSource.id))}}function C(o,s){if(1&o&&(t.\u0275\u0275elementStart(0,"tui-select",19),t.\u0275\u0275text(1," Wallet "),t.\u0275\u0275template(2,m,3,5,"tui-data-list",4),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("valueContent",e.stringifyWallet(e.wallets))("tuiTextfieldLabelOutside",!0)}}class y{constructor(s,e){var E;this.formBuilder=s,this.stringifyHelper=e,this.SpendTargets=d.P,this.spendTarget=null,this.categories=[],this.wallets=[],this.chosenSource=null,this.chosenDestination=null,this.disableSource=!1,this.submitTransaction=new t.EventEmitter,this.cancelTransaction=new t.EventEmitter,this.spendsForm=this.formBuilder.group({source:[null,[l.Validators.required]],spendTarget:[d.P.Category,l.Validators.required],destination:[null,[l.Validators.required]],amount:[0,l.Validators.required]}),null===(E=this.spendsForm.get("spendTarget"))||void 0===E||E.valueChanges.subscribe(()=>{this.spendsForm.patchValue({destination:null},{onlySelf:!0})})}get spendTargetList(){return Object.values(d.P)}ngOnChanges(s){var e,E,T,F;const R=s.spendTarget;this.spendTarget&&R.currentValue!==R.previousValue&&this.changeDestinationTarget(),this.spendsForm.patchValue({source:(null===(e=this.chosenSource)||void 0===e?void 0:e.id)||this.spendsForm.value.source,destination:(null===(E=this.chosenDestination)||void 0===E?void 0:E.id)||this.spendsForm.value.destination}),(this.chosenSource||this.disableSource)&&(null===(T=this.spendsForm.get("source"))||void 0===T||T.disable({onlySelf:!0})),this.chosenDestination&&(null===(F=this.spendsForm.get("destination"))||void 0===F||F.disable({onlySelf:!0}))}submitForm(){this.spendsForm.valid&&this.submitTransaction.emit(this.spendsForm.getRawValue())}cancel(s){s.preventDefault(),this.cancelTransaction.emit()}stringifyWallet(s){return this.stringifyHelper.stringifyWallet(s)}stringifyCategory(s){return this.stringifyHelper.stringifyCategory(s)}walletMatcher(s,e){return s.id!==e}changeDestinationTarget(){this.spendsForm.patchValue({spendTarget:this.spendTarget,destination:null},{onlySelf:!0})}}y.\u0275fac=function(s){return new(s||y)(t.\u0275\u0275directiveInject(l.FormBuilder),t.\u0275\u0275directiveInject(f._))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["app-spends-form"]],inputs:{spendTarget:"spendTarget",categories:"categories",wallets:"wallets",chosenSource:"chosenSource",chosenDestination:"chosenDestination",disableSource:"disableSource"},outputs:{submitTransaction:"submitTransaction",cancelTransaction:"cancelTransaction"},features:[t.\u0275\u0275NgOnChangesFeature],decls:22,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"tui-space_bottom-2"],["tuiLabel","","label","Source"],["formControlName","source","tuiTextfieldSize","m",3,"valueContent","tuiTextfieldLabelOutside"],[4,"tuiDataList"],[1,"flex"],["class","tui-space_bottom-2",4,"ngIf"],["tuiLabel","","label","Destination"],[3,"ngIf","ngIfElse"],["targetWallet",""],[1,"tui-space_bottom-5"],["tuiLabel",""],["tuiTextfieldSize","m","formControlName","amount",3,"tuiTextfieldLabelOutside"],["tuiButton","","size","m",3,"shape"],["tuiButton","","size","m",1,"tui-space_left-2",3,"shape","click"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"],["tuiLabel","","label","Destination is"],["formControlName","spendTarget","tuiTextfieldSize","m",3,"tuiTextfieldLabelOutside"],["formControlName","destination","tuiTextfieldSize","m",3,"valueContent","tuiTextfieldLabelOutside"]],template:function(s,e){if(1&s&&(t.\u0275\u0275elementStart(0,"form",0),t.\u0275\u0275listener("ngSubmit",function(){return e.submitForm()}),t.\u0275\u0275elementStart(1,"div",1)(2,"label",2)(3,"tui-select",3),t.\u0275\u0275text(4," Wallet "),t.\u0275\u0275template(5,P,2,1,"tui-data-list",4),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,A,5,1,"div",6),t.\u0275\u0275elementStart(8,"div")(9,"label",7),t.\u0275\u0275template(10,n,3,2,"ng-template",8),t.\u0275\u0275template(11,C,3,2,"ng-template",null,9,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(13,"div",10)(14,"label",11),t.\u0275\u0275text(15," Amount "),t.\u0275\u0275element(16,"tui-input-number",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(17,"div")(18,"button",13),t.\u0275\u0275text(19," Submit "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"button",14),t.\u0275\u0275listener("click",function(T){return e.cancel(T)}),t.\u0275\u0275text(21," Cancel "),t.\u0275\u0275elementEnd()()()),2&s){const E=t.\u0275\u0275reference(12);let T;t.\u0275\u0275property("formGroup",e.spendsForm),t.\u0275\u0275advance(3),t.\u0275\u0275property("valueContent",e.stringifyWallet(e.wallets))("tuiTextfieldLabelOutside",!0),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null===e.spendTarget),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(T=e.spendsForm.get("spendTarget"))?null:T.value)===e.SpendTargets.Category)("ngIfElse",E),t.\u0275\u0275advance(6),t.\u0275\u0275property("tuiTextfieldLabelOutside",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("shape","rounded"),t.\u0275\u0275advance(2),t.\u0275\u0275property("shape","rounded")}},directives:[l.\u0275NgNoValidate,l.NgControlStatusGroup,l.FormGroupDirective,c.A,p.uJ,p.OI,l.NgControlStatus,l.FormControlName,r.sz,r.xT,_.gX,_.qi,M.sg,_.vK,M.O5,O.qS,O.g5,h.v0],pipes:[S.S],styles:[".flex[_ngcontent-%COMP%]{display:flex;gap:1rem}.flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:100%}"]}),(0,u.gn)([v.UM],y.prototype,"stringifyWallet",null),(0,u.gn)([v.UM],y.prototype,"stringifyCategory",null)},5221:(D,g,i)=>{i.d(g,{HZ:()=>u.HZ,_7:()=>u._7});var u=i(249)},603:(D,g,i)=>{i.d(g,{_:()=>t});var u=i(5e3);let t=(()=>{class l{constructor(){}stringifyWallet(d){const f=new Map(d.map(({id:c,name:r,currency:_})=>[c,`${r} - ${null==_?void 0:_.name}`]));return({$implicit:c})=>f.get(c)||""}stringifyCategory(d){const f=new Map(d.map(({id:c,name:r,currency:_})=>[c,`${r} - ${null==_?void 0:_.name}`]));return({$implicit:c})=>f.get(c)||""}stringifyCurrency(d){const f=new Map(d.map(({id:c,name:r})=>[c,r]));return({$implicit:c})=>f.get(c)||""}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=u.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},1105:(D,g,i)=>{i.d(g,{h:()=>f,y:()=>c});var u=i(2014),t=i(5e3),l=i(3442),v=i(9808);const d=["*"];let f=(()=>{let r=class{constructor(){this.size="m",this.textAlign="left",this.hoverable=!1,this.transparent=!1}get sizeS(){return"s"===this.size}get sizeM(){return"m"===this.size}get sizeL(){return"l"===this.size}get textAlignLeft(){return"left"===this.textAlign}get textAlignCenter(){return"center"===this.textAlign}get textAlignRight(){return"right"===this.textAlign}};return r.\u0275fac=function(h){return new(h||r)},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["tui-island"],["a","tuiIsland",""]],hostAttrs:[1,"tui-island"],hostVars:16,hostBindings:function(h,p){2&h&&t.\u0275\u0275classProp("tui-island_hoverable",p.hoverable)("tui-island_transparent",p.transparent)("tui-island_size_s",p.sizeS)("tui-island_size_m",p.sizeM)("tui-island_size_l",p.sizeL)("tui-island_text-align_left",p.textAlignLeft)("tui-island_text-align_center",p.textAlignCenter)("tui-island_text-align_right",p.textAlignRight)},inputs:{size:"size",textAlign:"textAlign",hoverable:"hoverable",transparent:"transparent"},ngContentSelectors:d,decls:1,vars:0,template:function(h,p){1&h&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),(0,u.gn)([(0,t.Input)(),(0,l.TH)()],r.prototype,"size",void 0),(0,u.gn)([(0,t.Input)(),(0,l.TH)()],r.prototype,"textAlign",void 0),(0,u.gn)([(0,t.Input)(),(0,t.HostBinding)("class.tui-island_hoverable"),(0,l.TH)()],r.prototype,"hoverable",void 0),(0,u.gn)([(0,t.Input)(),(0,t.HostBinding)("class.tui-island_transparent"),(0,l.TH)()],r.prototype,"transparent",void 0),(0,u.gn)([(0,t.HostBinding)("class.tui-island_size_s")],r.prototype,"sizeS",null),(0,u.gn)([(0,t.HostBinding)("class.tui-island_size_m")],r.prototype,"sizeM",null),(0,u.gn)([(0,t.HostBinding)("class.tui-island_size_l")],r.prototype,"sizeL",null),(0,u.gn)([(0,t.HostBinding)("class.tui-island_text-align_left")],r.prototype,"textAlignLeft",null),(0,u.gn)([(0,t.HostBinding)("class.tui-island_text-align_center")],r.prototype,"textAlignCenter",null),(0,u.gn)([(0,t.HostBinding)("class.tui-island_text-align_right")],r.prototype,"textAlignRight",null),r})(),c=(()=>{let r=class{};return r.\u0275fac=function(h){return new(h||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({imports:[[v.ez]]}),r})()},4987:(D,g,i)=>{i.d(g,{c:()=>b,t:()=>L});var u=i(7579),t=i(727),l=i(5e3),v=i(2722);const d=l.\u0275NG_PIPE_DEF,c=Symbol("__destroy"),r=Symbol("__decoratorApplied");function _(n){return"string"==typeof n?Symbol(`__destroy__${n}`):c}function p(n,a){n[a]||(n[a]=new u.x)}function O(n,a){n[a]&&(n[a].next(),n[a].complete(),n[a]=null)}function M(n){n instanceof t.w0&&n.unsubscribe()}function x(n,a){return function(){var m;if(n&&n.call(this),O(this,_()),a.arrayName&&function S(n){Array.isArray(n)&&n.forEach(M)}(this[a.arrayName]),a.checkProperties)for(const C in this)(null===(m=a.blackList)||void 0===m?void 0:m.includes(C))||M(this[C])}}function b(n={}){return a=>{!function f(n){return!!n[d]}(a)?function P(n,a){n.prototype.ngOnDestroy=x(n.prototype.ngOnDestroy,a)}(a,n):function I(n,a){const m=n.\u0275pipe;m.onDestroy=x(m.onDestroy,a)}(a,n),function h(n){n.prototype[r]=!0}(a)}}function L(n,a){return m=>{const C=_(a);return"string"==typeof a?function A(n,a,m){const C=n[a];p(n,m),n[a]=function(){C.apply(this,arguments),O(this,m),n[a]=C}}(n,a,C):p(n,C),m.pipe((0,v.R)(n[C]))}}}}]);