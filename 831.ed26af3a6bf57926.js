"use strict";(self.webpackChunkcashcontrol=self.webpackChunkcashcontrol||[]).push([[831],{5831:(ro,et,i)=>{i.r(et),i.d(et,{CategoryModule:()=>oo});var c=i(9808),D=i(1958),S=i(655),m=i(8859),St=i(1497),w=i(4987),ot=i(9300),t=i(5e3),E=i(7319),F=i(6693),v=i(2079),nt=i(7447),rt=i(1105),s=i(2014),l=i(3442),H=(i(5489),i(2836),i(8634)),I=i(9014),A=i(3256),V=(i(5063),i(5963),i(4004));const Ft=["tuiProgressBar",""];let Bt=(()=>{let e=class{constructor(){this.size="m"}};return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["progress","tuiProgressBar",""]],hostVars:3,hostBindings:function(o,r){2&o&&(t.\u0275\u0275attribute("data-size",r.size),t.\u0275\u0275styleProp("--tui-progress-color",r.color))},inputs:{size:"size",color:"color"},attrs:Ft,decls:0,vars:0,template:function(o,r){},styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;color:var(--tui-progress-color,currentColor);background-color:var(--tui-base-03);display:block;width:100%;color:var(--tui-primary);border-radius:var(--tui-radius-xs);overflow:hidden}[_nghost-%COMP%]::-webkit-progress-value{-webkit-transition:width var(--tui-duration) linear;transition:width var(--tui-duration) linear;background:var(--tui-progress-color,currentColor)}[_nghost-%COMP%]::-moz-progress-bar{background:var(--tui-progress-color,currentColor)}[_nghost-%COMP%]::-webkit-progress-bar{background-color:var(--tui-base-03)}[data-size='m'][_nghost-%COMP%]{height:1.5rem}[data-size='s'][_nghost-%COMP%]{border-radius:var(--tui-radius-xs);height:.5rem}[data-size='s'][_nghost-%COMP%]::-webkit-progress-value{border-radius:var(--tui-radius-xs)}[data-size='s'][_nghost-%COMP%]::-moz-progress-bar{border-radius:var(--tui-radius-xs)}label[tuiProgressLabel][_nghost-%COMP%]:not(:first-child), label[tuiProgressLabel]   [_nghost-%COMP%]:not(:first-child){position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent}label[tuiProgressLabel][_nghost-%COMP%]:not(:first-child)::-webkit-progress-bar, label[tuiProgressLabel]   [_nghost-%COMP%]:not(:first-child)::-webkit-progress-bar{background-color:transparent}"],changeDetection:0}),(0,s.gn)([(0,t.Input)(),(0,t.HostBinding)("style.--tui-progress-color")],e.prototype,"color",void 0),(0,s.gn)([(0,t.Input)(),(0,t.HostBinding)("attr.data-size"),(0,l.TH)()],e.prototype,"size",void 0),e})(),Gt=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez,A.Ih]]}),e})();function $t(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"p")(1,"label",6),t.\u0275\u0275element(2,"progress",7),t.\u0275\u0275elementEnd()()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("label",o.categorySpending+" "+o.category.currency.name+" / "+o.category.limit+" "+o.category.currency.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("color",o.getBarColor())("max",o.category.limit)("value",o.categorySpending)}}var y=(()=>{return(e=y||(y={})).NO_COLOR="#ffffff",e.OK="#8fe346",e.WARNING="#ffa889",e.CLOSE_TO_LIMIT="#ff8791",y;var e})();let Wt=(()=>{class e{constructor(){this.categorySpending=134}getBarColor(){if(!this.category||!this.categorySpending)return y.NO_COLOR;const o=this.categorySpending/this.category.limit*100;return o<50?y.OK:o<80?y.WARNING:y.CLOSE_TO_LIMIT}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-category-item"]],inputs:{category:"category",categorySpending:"categorySpending"},decls:10,vars:6,consts:[[1,"inline-flex",3,"showLoader","overlay"],[1,"tui-island__title"],[1,"tui-island__paragraph","tui-space_bottom-3"],[4,"ngIf"],[1,"tui-island__paragraph","tui-island__paragraph_button"],["tuiButton","","appearance","secondary","size","s",3,"routerLink"],["tuiLabel","",3,"label"],["tuiProgressBar","",1,"spend-progress",3,"color","max","value"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"tui-loader",0)(1,"tui-island")(2,"h3",1),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",2),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,$t,3,4,"p",3),t.\u0275\u0275elementStart(7,"p",4)(8,"a",5),t.\u0275\u0275text(9," Show details "),t.\u0275\u0275elementEnd()()()()),2&o&&(t.\u0275\u0275property("showLoader",!r.category.currency)("overlay",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",r.category.name," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",r.category.description," "),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.category.currency),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink","/categories/"+r.category.id))},directives:[v.kM,rt.h,c.O5,nt.A,Bt,F.v0,D.yS],styles:[".spend-progress.spend-progress[_ngcontent-%COMP%]{height:1rem}"],changeDetection:0}),e})();function Nt(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275element(1,"app-category-item",4),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit,r=t.\u0275\u0275nextContext();let a;t.\u0275\u0275advance(1),t.\u0275\u0275property("category",o)("categorySpending",(null==(a=t.\u0275\u0275pipeBind1(2,2,r.categoriesSpendings$))?null:a[o.id])||0)}}let x=class{constructor(n){this.store=n,this.account$=this.store.select(St.G0.selectAccount),this.categories$=this.store.select(m.rY.selectCategories),this.categoriesLoading$=this.store.select(m.rY.selectLoading),this.categoriesSpendings$=this.store.select(m.rY.selectCategoriesSpendings)}ngOnInit(){this.account$.pipe((0,w.t)(this),(0,ot.h)(n=>!!n)).subscribe(()=>{this.store.dispatch(m.Ge.loadCategories()),this.store.dispatch(m.Ge.loadCategoriesSpendings())})}};x.\u0275fac=function(n){return new(n||x)(t.\u0275\u0275directiveInject(E.yh))},x.\u0275cmp=t.\u0275\u0275defineComponent({type:x,selectors:[["app-categories-table"]],decls:6,vars:6,consts:[["routerLink","/categories/create","tuiButton","","size","m","shape","rounded",1,"tui-space_bottom-3"],[3,"showLoader"],["class","tui-space_bottom-3",4,"ngFor","ngForOf"],[1,"tui-space_bottom-3"],[3,"category","categorySpending"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"a",0),t.\u0275\u0275text(1," Create category\n"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"tui-loader",1),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275template(4,Nt,3,4,"div",2),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("showLoader",!!t.\u0275\u0275pipeBind1(3,2,o.categoriesLoading$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(5,4,o.categories$)))},directives:[D.yS,F.v0,v.kM,c.sg,Wt],pipes:[c.Ov],styles:[""],changeDetection:0}),x=(0,S.gn)([(0,w.c)()],x);var k=i(5221),Qt=i(262),lt=i(7358),Jt=i(7951),ut=i(3346),Kt=i(5773),Yt=i(6649),Zt=i(6437),j=i(4620),ct=i(5411),dt=i(2558),p=i(6249),Ut=i(1320),Xt=i(1159),B=i(22),qt=i(6251),te=i(3881),_=i(6891),pt=i(2313);function ee(e,n){if(1&e&&(t.\u0275\u0275namespaceSVG(),t.\u0275\u0275elementStart(0,"svg",4),t.\u0275\u0275element(1,"path",5)(2,"path",6),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit,r=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("top",r.getInset(o),"em")("left",r.getInset(o),"em")("width",r.getDiameter(o),"em")("height",r.getDiameter(o),"em"),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("stroke",r.getColor(o))("stroke-dasharray",r.getLength(o),"em")("stroke-dashoffset",r.initialized?r.getOffset(o):r.getLength(o),"em")}}const oe=["*"],gt={m:9,l:11,xl:16},re={m:.25,l:.375,xl:.5625},ie={m:.125,l:.1875,xl:.25};let ae=(()=>{let e=class{constructor(o,r){this.sanitizer=o,this.value=[],this.size="m",this.max=100,this.minLabel="0%",this.maxLabel="100%",this.initialized=!1,setTimeout(()=>{this.initialized=!0,r.markForCheck()})}get width(){return gt[this.size]}get strokeWidth(){return re[this.size]}getInset(o){return this.strokeWidth/2+o*(this.strokeWidth+ie[this.size])}getDiameter(o){return gt[this.size]-2*this.getInset(o)}getLength(o){return Math.PI*this.getDiameter(o)*.76}getOffset(o){return this.getLength(o)*(1-Math.min(this.value[o]/this.max,1))}getColor(o){return this.sanitizer.bypassSecurityTrustStyle(`var(--tui-chart-${o}, var(--tui-support-0${o+1}))`)}};return e.\u0275fac=function(o){return new(o||e)(t.\u0275\u0275directiveInject(pt.DomSanitizer),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["tui-arc-chart"]],hostVars:7,hostBindings:function(o,r){2&o&&(t.\u0275\u0275attribute("data-size",r.size),t.\u0275\u0275styleProp("width",r.width,"rem")("height",r.width,"rem")("stroke-width",r.strokeWidth,"rem"))},inputs:{value:"value",size:"size",max:"max",minLabel:"minLabel",maxLabel:"maxLabel"},ngContentSelectors:oe,decls:9,vars:3,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","-100 -100 200 200","focusable","false","class","t-svg",3,"top","left","width","height",4,"tuiRepeatTimes","tuiRepeatTimesOf"],[1,"t-content"],[1,"t-wrapper"],[1,"t-percent"],["xmlns","http://www.w3.org/2000/svg","viewBox","-100 -100 200 200","focusable","false",1,"t-svg"],["vector-effect","non-scaling-stroke","d","M -70 70 A 100 100 0 1 1 70 70"],["vector-effect","non-scaling-stroke","d","M -70 70 A 100 100 0 1 1 70 70",1,"t-value"]],template:function(o,r){1&o&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,ee,3,14,"svg",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2),t.\u0275\u0275projection(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",3)(5,"span"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"span"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()()),2&o&&(t.\u0275\u0275property("tuiRepeatTimesOf",r.value.length),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(r.minLabel),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(r.maxLabel))},directives:[A.Xj],styles:["[_nghost-%COMP%]{position:relative;display:block;flex-shrink:0}.t-svg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;overflow:visible;fill:none;stroke:currentColor;stroke-linecap:round;color:var(--tui-secondary);font-size:1rem}.t-value[_ngcontent-%COMP%]{transition-property:stroke-dashoffset;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;color:var(--tui-text-02);font:var(--tui-font-text-xs)}[data-size=xl][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}.t-wrapper[_ngcontent-%COMP%]{flex:1}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size='m'][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-s);font-weight:700}[data-size='l'][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:700}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-heading-5)}.t-percent[_ngcontent-%COMP%]{position:absolute;left:25%;bottom:11%;display:flex;width:50%;justify-content:space-between;font:var(--tui-font-text-xs);color:var(--tui-text-02)}[data-size=xl][_nghost-%COMP%]   .t-percent[_ngcontent-%COMP%]{font:var(--tui-font-text-m)}"],changeDetection:0}),(0,_.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"value",void 0),(0,_.gn)([(0,t.Input)(),(0,t.HostBinding)("attr.data-size"),(0,l.TH)()],e.prototype,"size",void 0),(0,_.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"max",void 0),(0,_.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"minLabel",void 0),(0,_.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"maxLabel",void 0),(0,_.gn)([(0,t.HostBinding)("style.width.rem"),(0,t.HostBinding)("style.height.rem")],e.prototype,"width",null),(0,_.gn)([(0,t.HostBinding)("style.strokeWidth.rem")],e.prototype,"strokeWidth",null),e=(0,_.gn)([(0,_.fM)(0,(0,t.Inject)(pt.DomSanitizer)),(0,_.fM)(1,(0,t.Inject)(t.ChangeDetectorRef))],e),e})(),se=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[A.Ih]]}),e})();var le=i(1732);function ue(e,n){if(1&e&&t.\u0275\u0275element(0,"tui-svg",20),2&e){const o=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("icon_rotated",o.buttonsDropdownOpen)}}function ce(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tui-data-list")(1,"a",21),t.\u0275\u0275text(2," Edit category "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",22),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(13);return t.\u0275\u0275nextContext(2).showDialog(a)}),t.\u0275\u0275text(4," Make a transaction "),t.\u0275\u0275elementEnd()()}if(2&e){const o=t.\u0275\u0275nextContext(2).tuiLet;t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink","/categories/edit/"+(null==o?null:o.id))}}const G=function(){return[]},mt=function(e){return[e]};function de(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",23)(1,"h2",24),t.\u0275\u0275text(2,"Make a transaction:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"app-spends-form",25),t.\u0275\u0275listener("submitTransaction",function(a){const f=t.\u0275\u0275restoreView(o).$implicit;return t.\u0275\u0275nextContext(3).makeTransaction(a,f)})("cancelTransaction",function(){return t.\u0275\u0275restoreView(o).$implicit.complete()}),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()()}if(2&e){const o=t.\u0275\u0275nextContext(2).tuiLet,r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("spendTarget",r.SpendTargets.Category)("chosenDestination",o)("wallets",t.\u0275\u0275pipeBind1(4,4,r.wallets$)||t.\u0275\u0275pureFunction0(6,G))("categories",o?t.\u0275\u0275pureFunction1(7,mt,o):t.\u0275\u0275pureFunction0(9,G))}}function pe(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-arc-chart",26),t.\u0275\u0275text(1),t.\u0275\u0275elementStart(2,"p"),t.\u0275\u0275text(3,"Spendings"),t.\u0275\u0275elementEnd()()),2&e){const o=n.tuiLet,r=t.\u0275\u0275nextContext(2).tuiLet;t.\u0275\u0275property("maxLabel",(null==r||null==r.limit?null:r.limit.toString())||"100%")("value",t.\u0275\u0275pureFunction1(5,mt,o/((null==r?null:r.limit)||1)*100)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate3(" ",o," / ",null==r?null:r.limit," ",null==r||null==r.currency?null:r.currency.name," ")}}function ge(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",1)(2,"a",2),t.\u0275\u0275element(3,"tui-svg",3),t.\u0275\u0275text(4," Categories "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"tui-hosted-dropdown",4),t.\u0275\u0275listener("openChange",function(a){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext(2).buttonsDropdownOpen=a}),t.\u0275\u0275elementStart(6,"button",5),t.\u0275\u0275text(7," Options "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(8,ue,1,2,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(10,ce,5,1,"ng-template",null,7,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,de,5,10,"ng-template",null,8,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(14,"tui-loader",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h3",14),t.\u0275\u0275text(20),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(21,"app-divider",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"p"),t.\u0275\u0275text(23),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",16),t.\u0275\u0275template(25,pe,4,7,"tui-arc-chart",17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(26,"div",18),t.\u0275\u0275element(27,"app-transactions-table",19),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&e){const o=n.tuiLet,r=t.\u0275\u0275reference(9),a=t.\u0275\u0275reference(11),u=t.\u0275\u0275nextContext().tuiLet,f=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("shape","rounded"),t.\u0275\u0275advance(3),t.\u0275\u0275property("content",a)("open",f.buttonsDropdownOpen),t.\u0275\u0275advance(1),t.\u0275\u0275property("shape","rounded")("iconRight",r),t.\u0275\u0275advance(8),t.\u0275\u0275property("showLoader",!u),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("tui-skeleton",!u),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(null==u?null:u.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("height",2),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(null==u?null:u.description),t.\u0275\u0275advance(2),t.\u0275\u0275property("tuiLet",+f.getCategoryTotalSpendings(o).toFixed(2)),t.\u0275\u0275advance(2),t.\u0275\u0275property("transactions",o)("transactionType",f.TransactionTypes.Category)}}function me(e,n){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ge,28,14,"ng-container",0),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(2,1,o.categoryTransactions$)||t.\u0275\u0275pureFunction0(3,G))}}let M=class{constructor(n,o,r,a,u){this.store=n,this.dialogService=o,this.transactionService=r,this.notificationService=a,this.categoryId$=u,this.SpendTargets=Kt.P,this.TransactionTypes=Jt.e,this.category$=m.rY.selectCategory(this.store,this.categoryId$),this.categoryTransactions$=this.store.select(lt.Xb.selectTransactions),this.wallets$=this.store.select(ut.y7.selectWallets),this.buttonsDropdownOpen=!1}ngOnInit(){this.categoryId$.pipe((0,w.t)(this)).subscribe(n=>{this.store.dispatch(m.Ge.loadCategory({categoryId:n})),this.store.dispatch(lt.RA.loadCategoryTransactions({categoryId:n}))}),this.store.dispatch(ut.xr.loadWallets())}makeTransaction(n,o){this.transactionService.makeTransaction(n).pipe((0,V.U)(r=>{this.store.dispatch((0,Yt.addTransaction)({transaction:r})),o.complete(),this.notificationService.showSuccess("Yeeep!","A new transactions is already in your history")}),(0,Qt.K)(r=>{var a;throw this.notificationService.showError(`Whoops! Something went wrong ${null===(a=null==r?void 0:r.error)||void 0===a?void 0:a.error}`),r})).subscribe()}showDialog(n){this.dialogService.open(n).subscribe()}getCategoryTotalSpendings(n){return n.reduce((o,r)=>o+((null==r?void 0:r.amount)||0),0)}};M.\u0275fac=function(n){return new(n||M)(t.\u0275\u0275directiveInject(E.yh),t.\u0275\u0275directiveInject(Zt.RO),t.\u0275\u0275directiveInject(Ut.p),t.\u0275\u0275directiveInject(Xt.o),t.\u0275\u0275directiveInject(k.HZ))},M.\u0275cmp=t.\u0275\u0275defineComponent({type:M,selectors:[["app-category-view"]],features:[t.\u0275\u0275ProvidersFeature([k._7])],decls:2,vars:3,consts:[[4,"tuiLet"],[1,"buttons"],["routerLink","/categories","tuiButton","","size","m",1,"hide-on-large","tui-space_right-2",3,"shape"],["src","tuiIconArrowLeft"],["tuiDropdownAlign","left",3,"content","open","openChange"],["tuiButton","","size","m",3,"shape","iconRight"],["icon",""],["dropdown",""],["spendsForm",""],[3,"showLoader"],[1,"category-info"],[1,"info-top"],[1,"category-name-description"],[1,"category-name"],[1,"tui-text_h3"],[3,"height"],[1,"spendings-circle"],["size","xl","minLabel","0",3,"maxLabel","value",4,"tuiLet"],[1,"info-transactions"],[3,"transactions","transactionType"],["src","tuiIconChevronDown",1,"icon"],["tuiOption","",3,"routerLink"],["tuiOption","",3,"click"],[1,"spend-form"],[1,"tui-space_bottom-2"],[3,"spendTarget","chosenDestination","wallets","categories","submitTransaction","cancelTransaction"],["size","xl","minLabel","0",3,"maxLabel","value"]],template:function(n,o){1&n&&(t.\u0275\u0275template(0,me,3,4,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&n&&t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(1,1,o.category$))},directives:[B.Ls,D.yS,F.v0,j.P,ct.o1,dt.Sw,p.qi,p.vK,qt.x,v.kM,te.X,ae,le.k],pipes:[c.Ov],styles:[".buttons[_ngcontent-%COMP%]{margin-bottom:1rem}.hide-on-large[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 70rem){.hide-on-large[_ngcontent-%COMP%]{display:inline-block}}.category-info[_ngcontent-%COMP%]{padding:0 1rem 1rem}.category-name[_ngcontent-%COMP%]{max-width:300px}.info-top[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem;margin-bottom:3rem}.category-name-description[_ngcontent-%COMP%]{max-width:clamp(280px,40%,600px)}.spendings-circle[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),M=(0,S.gn)([(0,w.c)()],M);var d=i(2382),_e=i(1841),$=i(1643),he=i(603),W=i(5635),_t=i(9020),N=i(5137),ht=i(5302),Q=i(5640),ft=i(3703),vt=i(2141),J=i(6907),K=i(2802),fe=i(5385),ve=i(2164),b=i(5261),R=i(1802),Ce=i(589),Ct=i(1279),yt=i(688),xt=i(9951),Mt=i(4664);const ye=["focusableElement"];function xe(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",o.value.length,"/",o.controller.maxLength," ")}}function Me(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"div",17),t.\u0275\u0275projection(1,1),t.\u0275\u0275elementEnd()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("t-placeholder_raised",o.placeholderRaised)}}function be(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tui-svg",18),t.\u0275\u0275listener("click.stop",function(){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext().onValueChange("")}),t.\u0275\u0275elementEnd()}}function Te(e,n){if(1&e&&t.\u0275\u0275element(0,"tui-tooltip",19),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("describeId",o.id)("direction",o.hintController.direction)("mode",o.hintController.mode)("content",o.hintController.content)("showDelay",o.hintController.showDelay)("hideDelay",o.hintController.hideDelay)}}const Pe=[[["textarea"]],"*"],Oe=["textarea","*"],we=[{provide:N.KZ,useExisting:(0,t.forwardRef)(()=>Y)},{provide:ht.M$,useExisting:(0,t.forwardRef)(()=>Y)},J.Y0,K.Hw,fe.CV];let Y=(()=>{let e=class extends ht.M${constructor(o,r,a,u,f,Dt,no){super(o,r),this.appearance=a,this.isIOS=u,this.mode$=f,this.controller=Dt,this.hintController=no,this.rows=20,this.expandable=!1}get labelOutside(){return this.controller.labelOutside}get nativeFocusableElement(){var o,r;return this.computedDisabled?null:(null===(o=this.textfield)||void 0===o?void 0:o.nativeElement)||(null===(r=this.focusableElement)||void 0===r?void 0:r.nativeElement)||null}get focused(){return(0,Q.zV)(this.nativeFocusableElement)}get size(){return this.controller.size}get border(){return(0,ve.ub)(!1,this.hasCleaner,this.hasTooltip)}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasTooltip(){return!!this.hintController.content&&!this.disabled}get hasValue(){return""!==this.value}get hasCounter(){return!!this.controller.maxLength&&this.interactive}get hasPlaceholder(){return!this.controller.labelOutside||!this.hasValue&&!this.hasExampleText}get hasExampleText(){var o;return!(!this.controller.exampleText&&!(null===(o=this.textfield)||void 0===o?void 0:o.nativeElement.placeholder))&&this.focused&&!this.hasValue&&!this.readOnly}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}get placeholderRaised(){return!this.controller.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue)}get fittedContent(){return this.value.slice(0,this.controller.maxLength||1/0)}get extraContent(){return this.value.slice(this.controller.maxLength||1/0)}onFocused(o){this.updateFocused(o)}onHovered(o){this.updateHovered(o)}onPressed(o){this.updatePressed(o)}onValueChange(o){this.updateValue(o)}onMouseDown(o){o.target!==this.nativeFocusableElement&&(o.preventDefault(),this.nativeFocusableElement&&(0,Q.NY)(this.nativeFocusableElement))}getFallbackValue(){return""}get lineHeight(){return"m"===this.controller.size?20:24}};return e.\u0275fac=function(o){return new(o||e)(t.\u0275\u0275directiveInject(d.NgControl,10),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(b.jt),t.\u0275\u0275directiveInject(N.FA),t.\u0275\u0275directiveInject(b.Au),t.\u0275\u0275directiveInject(J.Cs),t.\u0275\u0275directiveInject(K.OL))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["tui-text-area"]],contentQueries:function(o,r,a){if(1&o&&t.\u0275\u0275contentQuery(a,R.MB,5,t.ElementRef),2&o){let u;t.\u0275\u0275queryRefresh(u=t.\u0275\u0275loadQuery())&&(r.textfield=u.first)}},viewQuery:function(o,r){if(1&o&&t.\u0275\u0275viewQuery(ye,5),2&o){let a;t.\u0275\u0275queryRefresh(a=t.\u0275\u0275loadQuery())&&(r.focusableElement=a.first)}},hostVars:15,hostBindings:function(o,r){1&o&&t.\u0275\u0275listener("$.data-mode.attr",function(){return r.mode$})("focusin",function(){return r.onFocused(!0)})("focusout",function(){return r.onFocused(!1)}),2&o&&(t.\u0275\u0275attribute("data-size",r.size),t.\u0275\u0275styleProp("--border-end",r.border,"rem"),t.\u0275\u0275classProp("_ios",r.isIOS)("_expandable",r.expandable)("_label-outside",r.labelOutside)("_has-tooltip",r.hasTooltip)("_has-value",r.hasValue)("_has-counter",r.hasCounter))},inputs:{rows:"rows",expandable:"expandable"},features:[t.\u0275\u0275ProvidersFeature(we),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Oe,decls:18,vars:21,consts:[["automation-id","tui-text-area__wrapper",1,"t-outline",3,"appearance","disabled","focused","hovered","readOnly","invalid"],["automation-id","tui-text-area__counter","class","t-counter",4,"ngIf"],[1,"t-content",3,"tuiHoveredChange","mousedown"],[1,"t-wrapper"],["automation-id","tui-text-area__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],["automation-id","tui-text-area__scrollbar",1,"t-box"],[1,"t-input-wrapper"],[1,"t-relative"],["aria-hidden","true",1,"t-pseudo-content"],[3,"textContent"],[1,"t-pseudo-content__extra",3,"textContent"],["automation-id","tui-text-area__native",1,"t-input",3,"placeholder","id","tuiDescribedBy","tuiFocusable","disabled","ngModel","readOnly","ngModelChange"],["focusableElement",""],[1,"t-icons"],["src","tuiIconCloseLarge","class","t-cleaner",3,"click.stop",4,"ngIf"],["automation-id","tui-text-area__tooltip","class","t-tooltip",3,"describeId","direction","mode","content","showDelay","hideDelay",4,"ngIf"],["automation-id","tui-text-area__counter",1,"t-counter"],["automation-id","tui-text-area__placeholder",1,"t-placeholder"],["src","tuiIconCloseLarge",1,"t-cleaner",3,"click.stop"],["automation-id","tui-text-area__tooltip",1,"t-tooltip",3,"describeId","direction","mode","content","showDelay","hideDelay"]],template:function(o,r){1&o&&(t.\u0275\u0275projectionDef(Pe),t.\u0275\u0275elementStart(0,"tui-wrapper",0),t.\u0275\u0275template(1,xe,2,2,"div",1),t.\u0275\u0275elementStart(2,"label",2),t.\u0275\u0275listener("tuiHoveredChange",function(u){return r.onHovered(u)})("mousedown",function(u){return r.onMouseDown(u)}),t.\u0275\u0275elementStart(3,"div",3),t.\u0275\u0275template(4,Me,2,2,"div",4),t.\u0275\u0275elementStart(5,"tui-scrollbar",5)(6,"div",6)(7,"div",7)(8,"div",8),t.\u0275\u0275element(9,"span",9)(10,"span",10),t.\u0275\u0275text(11," \xa0 "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"textarea",11,12),t.\u0275\u0275listener("ngModelChange",function(u){return r.onValueChange(u)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(14),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(15,"div",13),t.\u0275\u0275template(16,be,1,0,"tui-svg",14),t.\u0275\u0275template(17,Te,1,6,"tui-tooltip",15),t.\u0275\u0275elementEnd()()()),2&o&&(t.\u0275\u0275property("appearance",r.appearance)("disabled",r.disabled)("focused",r.computedFocused)("hovered",r.computedHovered)("readOnly",r.readOnly)("invalid",r.computedInvalid),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.hasCounter),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",r.hasPlaceholder),t.\u0275\u0275advance(1),t.\u0275\u0275styleProp("max-height",r.computeMaxHeight,"px"),t.\u0275\u0275advance(4),t.\u0275\u0275property("textContent",r.fittedContent||r.controller.exampleText),t.\u0275\u0275advance(1),t.\u0275\u0275property("textContent",r.extraContent),t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",r.controller.exampleText)("id",r.id)("tuiDescribedBy",r.id)("tuiFocusable",r.computedFocusable)("disabled",r.computedDisabled)("ngModel",r.value)("readOnly",r.readOnly),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",r.hasCleaner),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.hasTooltip))},directives:[xt.o,c.O5,vt.c,Ct.IB,d.DefaultValueAccessor,Mt.OH,ft.t,d.NgControlStatus,d.NgModel,j.P,yt.w],styles:["[_nghost-%COMP%]{position:relative;z-index:0;display:flex;font:var(--tui-font-text-m);flex-direction:column;min-height:6.75rem;border-radius:var(--tui-radius-m);color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-size='m'][_nghost-%COMP%]{font:var(--tui-font-text-s);min-height:5.5rem}[data-size='m']._has-counter[_nghost-%COMP%]{min-height:6.625rem}[data-size='l']._has-counter[_nghost-%COMP%]{min-height:7.875rem}.t-outline[_ngcontent-%COMP%]{min-height:inherit}.t-content[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;min-height:inherit;box-sizing:border-box;overflow:hidden;cursor:text}._disabled[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{cursor:auto;opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:1px;right:0;min-height:auto}._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1.6875rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:inherit;padding-bottom:.4375rem;box-sizing:border-box}[data-size='m']._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-top:.75rem}[data-size='l']._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-top:1rem}[data-size='m'][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding-top:1.375rem}[data-size='l'][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding-top:1.625rem}.t-input-wrapper[_ngcontent-%COMP%]{min-height:inherit;width:100%;flex:1}.t-relative[_ngcontent-%COMP%]{position:relative;min-height:inherit}.t-box[_ngcontent-%COMP%]{display:flex;min-height:100%;width:100%}[_nghost-%COMP%]:not(._expandable)   .t-box[_ngcontent-%COMP%]{height:100%}._has-counter._expandable[_nghost-%COMP%]   .t-box[_ngcontent-%COMP%]{margin-bottom:1.25rem}.t-pseudo-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;pointer-events:none;color:transparent;overflow:hidden;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0)}[data-size='m'][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 .75rem}[data-size='l'][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 1rem}.t-pseudo-content__extra[_ngcontent-%COMP%]{background-color:var(--tui-error-bg-night)}.t-input[_ngcontent-%COMP%]{padding:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;resize:none;overflow:hidden;outline:0;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0)}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}.t-input[_ngcontent-%COMP%]:not(:last-child){display:none}.t-input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--tui-text-03);opacity:0}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}[data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03-night)}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:read-only)::-ms-input-placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:-moz-read-only)::placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}[data-size='m'][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 .75rem}[data-size='l'][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 1rem}._ios[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding-left:.8125rem}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--tui-text-02);pointer-events:none;position:absolute;left:0;max-width:100%;padding:0 1rem;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0);box-sizing:border-box}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size='m'][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='l']._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='m']._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size='l'][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.9375rem}[data-size='l'][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size='l']._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size='m']._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size='l'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size='m'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='l'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='m'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size='m'][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{top:.75rem;padding:0 .75rem}[data-size='l'][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{top:1rem}._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{overflow:initial;height:auto;white-space:initial}.t-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;justify-content:flex-end;pointer-events:none;padding:1rem .75rem}[data-size='m'][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{padding:.75rem}.t-cleaner[_ngcontent-%COMP%]{transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03);position:relative;box-sizing:border-box;cursor:pointer;transition-property:color,transform;pointer-events:auto}.t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-02)}._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}[data-mode=onDark][_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-01-night)}.t-tooltip[_ngcontent-%COMP%]{pointer-events:auto}.t-counter[_ngcontent-%COMP%]{position:absolute;right:.75rem;bottom:.5rem;font:var(--tui-font-text-s);pointer-events:none;margin-top:auto;text-align:right;color:var(--tui-text-03)}[data-mode=onDark][_nghost-%COMP%]   .t-counter[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}"],changeDetection:0}),(0,s.gn)([(0,t.ViewChild)("focusableElement")],e.prototype,"focusableElement",void 0),(0,s.gn)([(0,t.ContentChild)(R.MB,{read:t.ElementRef})],e.prototype,"textfield",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"rows",void 0),(0,s.gn)([(0,t.Input)(),(0,t.HostBinding)("class._expandable"),(0,l.TH)()],e.prototype,"expandable",void 0),(0,s.gn)([(0,t.HostBinding)("class._label-outside")],e.prototype,"labelOutside",null),(0,s.gn)([(0,t.HostBinding)("attr.data-size")],e.prototype,"size",null),(0,s.gn)([(0,t.HostBinding)("style.--border-end.rem")],e.prototype,"border",null),(0,s.gn)([(0,t.HostBinding)("class._has-tooltip")],e.prototype,"hasTooltip",null),(0,s.gn)([(0,t.HostBinding)("class._has-value")],e.prototype,"hasValue",null),(0,s.gn)([(0,t.HostBinding)("class._has-counter")],e.prototype,"hasCounter",null),(0,s.gn)([(0,t.HostListener)("focusin",["true"]),(0,t.HostListener)("focusout",["false"])],e.prototype,"onFocused",null),e=(0,s.gn)([(0,s.fM)(0,(0,t.Optional)()),(0,s.fM)(0,(0,t.Self)()),(0,s.fM)(0,(0,t.Inject)(d.NgControl)),(0,s.fM)(1,(0,t.Inject)(t.ChangeDetectorRef)),(0,s.fM)(2,(0,t.Inject)(b.jt)),(0,s.fM)(3,(0,t.Inject)(N.FA)),(0,s.fM)(4,(0,t.Inject)(b.Au)),(0,s.fM)(5,(0,t.Inject)(J.Cs)),(0,s.fM)(6,(0,t.Inject)(K.OL))],e),e})();var bt;let z=bt=class extends Ce.dh{onValueChange(n){this.host.onValueChange(n)}};z.\u0275fac=function(){let e;return function(o){return(e||(e=t.\u0275\u0275getInheritedFactory(z)))(o||z)}}(),z.\u0275dir=t.\u0275\u0275defineDirective({type:z,selectors:[["tui-text-area"]],features:[t.\u0275\u0275ProvidersFeature([{provide:b.S0,useExisting:(0,t.forwardRef)(()=>bt)}]),t.\u0275\u0275InheritDefinitionFeature]});let Se=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez,d.FormsModule,ft.u,vt.V,Ct.Jy,yt.Q,xt.W,Mt.$Z,j.E,R.KW]]}),e})();var Z=i(1698),U=i(5645),h=i(4710);let Fe=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(o,r){},styles:[".tui-group{position:relative;z-index:0;display:flex}.tui-group>*{flex:1 1 0;min-width:0}.tui-group>:nth-child(n){border-radius:0}.tui-group>:not(:last-child){margin-right:.125rem}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>:not(:last-child){margin-right:-1px}.tui-group_collapsed>._disabled,.tui-group_collapsed>._disabled:hover,.tui-group_collapsed>._readonly,.tui-group_collapsed>._readonly:hover{z-index:0}.tui-group_collapsed>._hovered,.tui-group_collapsed>._pressed,.tui-group_collapsed>:hover{z-index:3}.tui-group_collapsed>._invalid{z-index:2}.tui-group_collapsed>._invalid._hovered,.tui-group_collapsed>._invalid._pressed,.tui-group_collapsed>._invalid:hover{z-index:4}.tui-group_collapsed>._focus-visible,.tui-group_collapsed>._focused.ng-touched,.tui-group_collapsed>._focused.ng-untouched,.tui-group_collapsed>._hosted_dropdown_focused{z-index:5}.tui-group_collapsed>._active,.tui-group_collapsed>[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>._focus-visible._active,.tui-group_collapsed>._focus-visible._focused,.tui-group_collapsed>._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-height:auto;flex:0 0 auto}.tui-group_orientation_vertical>:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_rounded.tui-group_orientation_horizontal>:first-child{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal>:last-child{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>:first-child{border-top-left-radius:var(--tui-radius-l);border-bottom-left-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_horizontal.tui-group_radius_large>:last-child{border-top-right-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical>:first-child{border-top-left-radius:var(--tui-radius-m);border-top-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical>:last-child{border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>:first-child{border-top-left-radius:var(--tui-radius-l);border-top-right-radius:var(--tui-radius-l)}.tui-group_rounded.tui-group_orientation_vertical.tui-group_radius_large>:last-child{border-bottom-left-radius:var(--tui-radius-l);border-bottom-right-radius:var(--tui-radius-l)}@media screen and (max-width:47.9375em){.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_horizontal>:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_orientation_vertical:not(.tui-group_collapsed)>:last-child:not(:first-child){border-radius:var(--tui-radius-m)}.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>:last-child:not(:first-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>:first-child:not(:last-child),.tui-group_rounded.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical:not(.tui-group_collapsed)>:last-child:not(:first-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_orientation_vertical{width:100%}.tui-group_adaptive.tui-group_orientation_vertical>:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical>:not(:last-child){margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_vertical.tui-group_collapsed>:not(:last-child){margin-bottom:-1px}.tui-group_adaptive.tui-group_orientation_horizontal{flex-direction:column;width:100%}.tui-group_adaptive.tui-group_orientation_horizontal>:nth-child(n):not(:only-child){border-radius:var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal>:not(:last-child){margin-right:0;margin-bottom:1rem}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>:first-child:not(:last-child){border-radius:var(--tui-radius-m) var(--tui-radius-m) 0 0}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.tui-group_adaptive.tui-group_orientation_horizontal.tui-group_collapsed>:not(:last-child){margin-right:0;margin-bottom:-1px}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical>:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_vertical.tui-group_collapsed>:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal>:nth-child(n):not(:only-child){border-radius:var(--tui-radius-l)}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>:nth-child(n):not(:only-child){border-radius:0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>:first-child:not(:last-child){border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-group_adaptive.tui-group_radius_large.tui-group_orientation_horizontal.tui-group_collapsed>:last-child:not(:first-child){border-radius:0 0 var(--tui-radius-l) var(--tui-radius-l)}}.tui-group__auto-width-item{min-width:auto;flex:0 0 auto}.tui-group .tui-group__inherit-item{border-radius:inherit}"],encapsulation:2}),e})(),Tt=(()=>{let e=class{constructor(o){this.orientation="horizontal",this.adaptive=!1,this.collapsed=!1,this.rounded=!0,this.size="m",o.addComponent(Fe)}get orientationHorizontal(){return"horizontal"===this.orientation}get orientationVertical(){return"vertical"===this.orientation}get sizeLarge(){return"l"===this.size}};return e.\u0275fac=function(o){return new(o||e)(t.\u0275\u0275directiveInject(I.gH))},e.\u0275dir=t.\u0275\u0275defineDirective({type:e,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["role","group",1,"tui-group"],hostVars:12,hostBindings:function(o,r){2&o&&t.\u0275\u0275classProp("tui-group_adaptive",r.adaptive)("tui-group_collapsed",r.collapsed)("tui-group_rounded",r.rounded)("tui-group_orientation_horizontal",r.orientationHorizontal)("tui-group_orientation_vertical",r.orientationVertical)("tui-group_radius_large",r.sizeLarge)},inputs:{orientation:"orientation",adaptive:"adaptive",collapsed:"collapsed",rounded:"rounded",size:"size"}}),(0,h.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"orientation",void 0),(0,h.gn)([(0,t.Input)(),(0,t.HostBinding)("class.tui-group_adaptive"),(0,l.TH)()],e.prototype,"adaptive",void 0),(0,h.gn)([(0,t.Input)(),(0,t.HostBinding)("class.tui-group_collapsed"),(0,l.TH)()],e.prototype,"collapsed",void 0),(0,h.gn)([(0,t.Input)(),(0,t.HostBinding)("class.tui-group_rounded"),(0,l.TH)()],e.prototype,"rounded",void 0),(0,h.gn)([(0,t.Input)(),(0,l.TH)()],e.prototype,"size",void 0),(0,h.gn)([(0,t.HostBinding)("class.tui-group_orientation_horizontal")],e.prototype,"orientationHorizontal",null),(0,h.gn)([(0,t.HostBinding)("class.tui-group_orientation_vertical")],e.prototype,"orientationVertical",null),(0,h.gn)([(0,t.HostBinding)("class.tui-group_radius_large")],e.prototype,"sizeLarge",null),e=(0,h.gn)([(0,h.fM)(0,(0,t.Inject)(I.gH))],e),e})(),Le=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez]]}),e})();var Pt=i(2436);function He(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"tuiCurrency"),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit;t.\u0275\u0275property("value",o.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2(" ",o.name," - ",t.\u0275\u0275pipeBind1(2,3,o.code)," ")}}function Ae(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-data-list"),t.\u0275\u0275template(1,He,3,5,"button",15),t.\u0275\u0275elementEnd()),2&e){const o=t.\u0275\u0275nextContext().tuiLet;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o)}}function ke(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-select",13),t.\u0275\u0275text(1," Currency "),t.\u0275\u0275template(2,Ae,2,1,"tui-data-list",14),t.\u0275\u0275elementEnd()),2&e){const o=n.tuiLet,r=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(21);t.\u0275\u0275property("valueContent",o?r.stringifyCurrency(o):a)}}function je(e,n){1&e&&t.\u0275\u0275element(0,"tui-loader",17)}class T{constructor(n,o){this.store=n,this.stringifyHelper=o,this.formAct=$.w.Create,this.title="Create a category",this.submitCategory=new t.EventEmitter,this.currencies$=this.store.select(_e.TJ.selectCurrencies),this.categoryForm=(new d.FormBuilder).group({name:["",[d.Validators.required]],description:[""],limit:[0,[d.Validators.required]],currencyId:[null,[d.Validators.required]]})}ngOnChanges(){var n;this.formAct===$.w.Update&&(null===(n=this.categoryForm.get("currencyId"))||void 0===n||n.disable()),this.categoryForm.patchValue(Object.assign({},this.category),{onlySelf:!0})}submitForm(){var n;this.categoryForm.invalid||this.submitCategory.emit(Object.assign({id:(null===(n=this.category)||void 0===n?void 0:n.id)||null},this.categoryForm.getRawValue()))}stringifyCurrency(n){return this.stringifyHelper.stringifyCurrency(n)}}T.\u0275fac=function(n){return new(n||T)(t.\u0275\u0275directiveInject(E.yh),t.\u0275\u0275directiveInject(he._))},T.\u0275cmp=t.\u0275\u0275defineComponent({type:T,selectors:[["app-category-form"]],inputs:{formAct:"formAct",title:"title",category:"category"},outputs:{submitCategory:"submitCategory"},features:[t.\u0275\u0275NgOnChangesFeature],decls:25,vars:6,consts:[[1,"create-form"],[3,"formGroup"],[1,"tui-form__header","tui-form__header_margin-top_none"],[1,"tui-form__row"],["formControlName","name"],["tuiTextfield","","type","text"],["formControlName","description"],["tuiGroup","",1,"tui-form__row","limit-group"],["formControlName","limit"],["formControlName","currencyId",3,"valueContent",4,"tuiLet"],["loading",""],[1,"tui-form__buttons"],["tuiButton","","size","l","shape","rounded",3,"click"],["formControlName","currencyId",3,"valueContent"],[4,"tuiDataList"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"],[1,"tui-space_vertical-3","loader"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"form",1)(2,"h2",2),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3)(5,"tui-input",4),t.\u0275\u0275text(6," Enter a name for category "),t.\u0275\u0275element(7,"input",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"tui-field-error",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",3)(10,"tui-text-area",6),t.\u0275\u0275text(11," Category description "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",7)(13,"div")(14,"tui-input-number",8),t.\u0275\u0275text(15," Monthly limit "),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"tui-field-error",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"div"),t.\u0275\u0275template(18,ke,3,1,"tui-select",9),t.\u0275\u0275pipe(19,"async"),t.\u0275\u0275template(20,je,1,0,"ng-template",null,10,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",11)(23,"button",12),t.\u0275\u0275listener("click",function(){return o.submitForm()}),t.\u0275\u0275text(24),t.\u0275\u0275elementEnd()()()()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",o.categoryForm),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",o.title," "),t.\u0275\u0275advance(15),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(19,4,o.currencies$)),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate1(" ",o.formAct," "))},directives:[d.\u0275NgNoValidate,d.NgControlStatusGroup,d.FormGroupDirective,W.K3,W.wU,d.NgControlStatus,d.FormControlName,R.MB,_t.y,Y,z,Tt,Z.qS,Z.g5,B.Ls,U.uJ,U.OI,p.gX,p.qi,c.sg,p.vK,v.kM,F.v0],pipes:[c.Ov,Pt.i],styles:[".create-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.limit-group[_ngcontent-%COMP%]{max-width:20rem}"]}),(0,S.gn)([l.UM],T.prototype,"stringifyCurrency",null);let Be=(()=>{class e{constructor(o){this.store=o}createCategory(o){this.store.dispatch(m.Ge.createCategory({categoryDto:o}))}}return e.\u0275fac=function(o){return new(o||e)(t.\u0275\u0275directiveInject(E.yh))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["app-category-create"]],decls:1,vars:0,consts:[[3,"submitCategory"]],template:function(o,r){1&o&&(t.\u0275\u0275elementStart(0,"app-category-form",0),t.\u0275\u0275listener("submitCategory",function(u){return r.createCategory(u)}),t.\u0275\u0275elementEnd())},directives:[T],styles:[""]}),e})();function Re(e,n){if(1&e){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"tui-loader",1)(2,"app-category-form",2),t.\u0275\u0275listener("submitCategory",function(a){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext().updateCategory(a)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(2&e){const o=n.tuiLet,r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("showLoader",!o)("overlay",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("category",o)("formAct",r.FormActs.Update)}}let P=class{constructor(n,o){this.store=n,this.categoryId$=o,this.category$=m.rY.selectSimpleCategory(this.store,this.categoryId$),this.FormActs=$.w}ngOnInit(){this.categoryId$.pipe((0,w.t)(this),(0,ot.h)(n=>!!n)).subscribe(n=>{this.store.dispatch(m.Ge.loadCategory({categoryId:n}))})}updateCategory(n){const{id:o}=n,r=(0,S._T)(n,["id"]);this.store.dispatch(m.Ge.updateCategory({categoryId:o,categoryDto:r}))}};P.\u0275fac=function(n){return new(n||P)(t.\u0275\u0275directiveInject(E.yh),t.\u0275\u0275directiveInject(k.HZ))},P.\u0275cmp=t.\u0275\u0275defineComponent({type:P,selectors:[["app-category-edit"]],features:[t.\u0275\u0275ProvidersFeature([k._7])],decls:2,vars:3,consts:[[4,"tuiLet"],[3,"showLoader","overlay"],["title","Edit a category",3,"category","formAct","submitCategory"]],template:function(n,o){1&n&&(t.\u0275\u0275template(0,Re,3,4,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&n&&t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(1,1,o.category$))},directives:[B.Ls,v.kM,T],pipes:[c.Ov],styles:[""],changeDetection:0}),P=(0,S.gn)([(0,w.c)()],P);const Ve=[{path:"",component:x},{path:"create",component:Be},{path:"edit/:id",component:P},{path:":id",component:M}];let Ge=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[D.Bz.forChild(Ve)],D.Bz]}),e})();var $e=i(4335),Ot=i(2832);let wt=(()=>{let e=class extends t.ElementRef{constructor({nativeElement:o}){super(o)}};return e.\u0275fac=function(o){return new(o||e)(t.\u0275\u0275directiveInject(t.ElementRef))},e.\u0275dir=t.\u0275\u0275defineDirective({type:e,selectors:[["","tuiElement",""]],exportAs:["elementRef"],features:[t.\u0275\u0275InheritDefinitionFeature]}),e=(0,Ot.gn)([(0,Ot.fM)(0,(0,t.Inject)(t.ElementRef))],e),e})(),We=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({}),e})();var X=i(2997),q=i(5628);function Ne(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"button",4,5),t.\u0275\u0275element(2,"span",6),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit,r=t.\u0275\u0275reference(1),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("size",a.size)("value",o)("disabled",a.disabledItemHandler(o)),t.\u0275\u0275advance(2),t.\u0275\u0275property("content",a.itemContent)("context",a.getContext(o,r))}}function Qe(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-data-list",2),t.\u0275\u0275template(1,Ne,3,5,"button",3),t.\u0275\u0275elementEnd()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("emptyContent",o.emptyContent),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.items)}}function Je(e,n){1&e&&t.\u0275\u0275element(0,"tui-loader",7)}function Ye(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"button",6,7),t.\u0275\u0275element(2,"span",8),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit,r=t.\u0275\u0275reference(1),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("size",a.size)("value",o)("disabled",a.disabledItemHandler(o)),t.\u0275\u0275advance(2),t.\u0275\u0275property("content",a.itemContent)("context",a.getContext(o,r))}}function Ze(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-opt-group",4),t.\u0275\u0275template(1,Ye,3,5,"button",5),t.\u0275\u0275elementEnd()),2&e){const o=n.$implicit,r=n.index,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("label",a.labels[r]),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o)}}function Ue(e,n){if(1&e&&(t.\u0275\u0275elementStart(0,"tui-data-list",2),t.\u0275\u0275template(1,Ze,2,2,"tui-opt-group",3),t.\u0275\u0275elementEnd()),2&e){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("emptyContent",o.emptyContent),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.items)}}function Xe(e,n){1&e&&t.\u0275\u0275element(0,"tui-loader",9)}const It="[_nghost-%COMP%]{display:block}.t-content[_ngcontent-%COMP%]{flex:1}.t-loader[_ngcontent-%COMP%]{margin:.75rem 0}";var tt;let g=tt=class{constructor(n){this.itemsHandlers=n,this.optionsQuery=H.Mm,this.items=[],this.disabledItemHandler=this.itemsHandlers.disabledItemHandler,this.emptyContent="",this.size="m",this.itemContent=({$implicit:o})=>this.itemsHandlers.stringify(o)}getContext(n,{nativeElement:o}){return{$implicit:n,active:(0,Q.zV)(o)}}getOptions(n=!1){return this.optionsQuery.toArray().filter(({disabled:o})=>n||!o).map(({value:o})=>o).filter($e.EN)}};var zt;g.\u0275fac=function(n){return new(n||g)(t.\u0275\u0275directiveInject(X.Ys))},g.\u0275cmp=t.\u0275\u0275defineComponent({type:g,selectors:[["tui-data-list-wrapper",3,"labels",""]],viewQuery:function(n,o){if(1&n&&t.\u0275\u0275viewQuery(p.vK,5),2&n){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(o.optionsQuery=r)}},inputs:{items:"items",disabledItemHandler:"disabledItemHandler",emptyContent:"emptyContent",size:"size",itemContent:"itemContent"},features:[t.\u0275\u0275ProvidersFeature([{provide:b.Cc,useExisting:(0,t.forwardRef)(()=>tt)}])],decls:3,vars:2,consts:[[3,"emptyContent",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled",4,"ngFor","ngForOf"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled"],["elementRef","elementRef"],["polymorpheus-outlet","",1,"t-content",3,"content","context"],["automation-id","tui-data-list-wrapper__loader",1,"t-loader"]],template:function(n,o){if(1&n&&(t.\u0275\u0275template(0,Qe,2,2,"tui-data-list",0),t.\u0275\u0275template(1,Je,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)),2&n){const r=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",o.items)("ngIfElse",r)}},directives:[c.O5,p.qi,c.sg,p.vK,wt,q.r1,v.kM],styles:[It],changeDetection:0}),g.ctorParameters=()=>[{type:void 0,decorators:[{type:t.Inject,args:[X.Ys]}]}],(0,s.gn)([(0,t.ViewChildren)((0,t.forwardRef)(()=>p.vK))],g.prototype,"optionsQuery",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],g.prototype,"items",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],g.prototype,"disabledItemHandler",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],g.prototype,"emptyContent",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],g.prototype,"size",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],g.prototype,"itemContent",void 0),g=tt=(0,s.gn)([(0,s.fM)(0,(0,t.Inject)(X.Ys))],g);let O=zt=class extends g{constructor(){super(...arguments),this.items=[],this.labels=[]}};O.\u0275fac=function(){let e;return function(o){return(e||(e=t.\u0275\u0275getInheritedFactory(O)))(o||O)}}(),O.\u0275cmp=t.\u0275\u0275defineComponent({type:O,selectors:[["tui-data-list-wrapper","labels",""]],inputs:{items:"items",labels:"labels"},features:[t.\u0275\u0275ProvidersFeature([{provide:b.Cc,useExisting:(0,t.forwardRef)(()=>zt)}]),t.\u0275\u0275InheritDefinitionFeature],attrs:["labels",""],decls:3,vars:2,consts:[[3,"emptyContent",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled",4,"ngFor","ngForOf"],["tuiElement","","tuiOption","","automation-id","tui-data-list-wrapper__option",3,"size","value","disabled"],["elementRef","elementRef"],["polymorpheus-outlet","",1,"t-content",3,"content","context"],[1,"t-loader"]],template:function(n,o){if(1&n&&(t.\u0275\u0275template(0,Ue,2,2,"tui-data-list",0),t.\u0275\u0275template(1,Xe,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)),2&n){const r=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",o.items)("ngIfElse",r)}},directives:[c.O5,p.qi,c.sg,p.Rs,p.vK,wt,q.r1,v.kM],styles:[It],changeDetection:0}),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],O.prototype,"items",void 0),(0,s.gn)([(0,t.Input)(),(0,l.TH)()],O.prototype,"labels",void 0);let qe=(()=>{let e=class{};return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez,q.wq,We,p.pc,v.dS]]}),e})();var to=i(4951),eo=i(9232);let oo=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.ez,Ge,rt.y,F.fN,Gt,nt.U,Pt.w,v.dS,d.ReactiveFormsModule,W.Qf,Se,Z._H,_t.C,U.Jy,qe,p.pc,B.WD,Le,to.m,eo.R,se,j.E,ct.jh,dt.Cu]]}),e})()}}]);